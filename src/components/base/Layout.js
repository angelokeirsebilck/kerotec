import React from "react";
import Header from "./Header";
import CookieConsent from "react-cookie-consent";
import Link from "next/link";
import useGlobalState from "../../hooks/useGlobalState";
import { useRouter } from "next/router";
import Footer from "./Footer";

const Layout = ({ seo, mainNav, footer, children, border }) => {
  const { showCookiePopup, changeShowCookiepopup } = useGlobalState();
  const router = useRouter();

  return (
    <div>
      {/* <Head>
        <title>KEROTEC</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head> */}
      <Header border={border} mainNav={mainNav} />
      <main>{children}</main>
      <Footer footer={footer} />
      <CookieConsent
        visible={showCookiePopup}
        enableDeclineButton
        buttonText="Accepteer"
        declineButtonText="Weiger"
        style={{ background: "#000", fontSize: "16px" }}
        buttonStyle={{ background: "#fead1b", fontSize: "16px" }}
        declineButtonStyle={{
          background: "transparent",
          fontSize: "16px",
          borderWidth: "1px",
          borderStyle: "solid",
          borderColor: "#fead1b",
        }}
        onDecline={() => {
          changeShowCookiepopup("byCookieValue");
        }}
        onAccept={() => {
          changeShowCookiepopup("byCookieValue");
          router.reload();
        }}
      >
        Deze website maakt gebruik van cookies. Meer informatie hierover vind je{" "}
        <Link href="/cookies">
          <a className="underline transition-colors hover:text-primary">hier</a>
        </Link>
        .
      </CookieConsent>
    </div>
  );
};

export default Layout;
